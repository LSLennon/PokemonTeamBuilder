@page "/DatabaseBuilder"
@inject PokemonApiServices PokeServices


<MudSpacer />

<MudButton Variant="Variant.Filled"
           Color="Color.Primary"
           Class="ml-auto invisible"
           Disabled="true"
           OnClick="AddTypeEffectivness">
    Add Type Effectivness
</MudButton>

<MudSpacer />

<MudButton Variant="Variant.Filled"
           Color="Color.Primary"
           Class="ml-auto invisible"
           Disabled="true"
           OnClick="AddNextPokemon">
    Add All Pokemon
</MudButton>
<MudButton Variant="Variant.Filled"
           Color="Color.Primary"
           Class="ml-auto invisible"
           Disabled="true"
           OnClick="UpdateMoveFlavourText">
    Update Move Flavour Text
</MudButton>

@code {

    List<PokeType> allTypes = new List<PokeType>();
    protected override async Task OnInitializedAsync()
    {
        allTypes = await PokeServices.GetTypeList();
    }

    private async Task AddTypeEffectivness()
    {
        await PokeServices.GetEffectivenessForDatabase(allTypes);
    }

    public async Task AddNextPokemon()
    {
        for (int i = 1; i <= 1024; i++)
        {
            await PokeServices.GetPokemonForDatabase(i);
        }
    }

    public async Task UpdateMoveFlavourText()
    {
        await PokeServices.GetMoveFlavourText();
    }
}
